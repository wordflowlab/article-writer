# AI味自检插件

## 功能说明

利用AI自身的能力,分析文章的"AI味"特征,并提供针对性的优化建议。

**核心理念**: AI最了解AI生成内容的特征,让它自己检测和优化。

---

## 工作原理

### 1. AI味特征库

AI会检测以下特征:

#### 高频AI词汇
- "综上所述", "因此", "然而", "此外", "总而言之"
- "值得注意的是", "需要强调的是", "不容忽视的是"
- "一方面...另一方面", "首先...其次...最后"
- "非常", "极其", "十分", "相当" (空洞的程度副词)

#### 机械结构
- 完全对称的段落(每段字数几乎相同)
- 公式化的开头/结尾("本文将..." "通过本文...")
- 列表式堆砌(无情感的1/2/3)

#### 缺乏个性
- 无第一人称(或过度使用"笔者")
- 无情感表达
- 无真实细节(时间、地点、具体数字)
- 无口语化表达

#### 过度规范
- 标点符号100%正确(真人会有小错误)
- 段落长度完全一致
- 从不使用语气词(啊、呢、吧、嘛)

---

## 使用方式

### 方式1: 在audit命令中自动调用

```bash
/audit style
```

AI会自动使用此插件分析AI味。

### 方式2: 独立检测

创建一个独立的slash command:

```bash
/ai-check [文件路径]
```

---

## 检测维度

### 1. 词汇层面 (30分)

**检测项**:
- [ ] 高频AI词汇出现次数 (每100字中 > 3次扣分)
- [ ] 空洞形容词比例 (> 5%扣分)
- [ ] 连接词密度 (过高扣分)

**评分**:
- 30分: 几乎无AI词汇,自然表达
- 20分: 少量AI词汇,可接受
- 10分: 较多AI词汇,需优化
- 0分: 大量AI词汇,重度AI味

---

### 2. 结构层面 (30分)

**检测项**:
- [ ] 段落长度方差 (方差越小越机械)
- [ ] 是否有公式化模板痕迹
- [ ] 列表使用是否过度

**评分**:
- 30分: 结构自然,有起伏
- 20分: 基本自然,略显规整
- 10分: 较为机械,明显模板化
- 0分: 高度机械,公式化严重

---

### 3. 情感层面 (20分)

**检测项**:
- [ ] 是否有第一人称 ("我", "我的", 但不能只有"笔者")
- [ ] 是否有情感词汇 (高兴、失望、惊讶)
- [ ] 是否有真实细节 (时间、地点、具体场景)

**评分**:
- 20分: 情感丰富,真实感强
- 15分: 有一定情感
- 5分: 情感稀少
- 0分: 完全客观陈述

---

### 4. 口语化层面 (20分)

**检测项**:
- [ ] 是否有语气词 (啊、呢、吧、嘛、哈)
- [ ] 是否有反问句
- [ ] 是否有不规范表达 (真人的口语习惯)

**评分**:
- 20分: 高度口语化,像说话
- 15分: 适度口语化
- 5分: 偏书面语
- 0分: 完全书面语

---

## 输出格式

```
🤖 AI味检测报告

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 总体评分: 65/100
AI味等级: ⭐⭐⭐ (中等)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

## 分维度评分

### 1. 词汇层面: 15/30 ⚠️
- ❌ 检测到高频AI词汇: 12处
  - "综上所述" (2次)
  - "因此" (4次)
  - "值得注意的是" (3次)
  - "一方面...另一方面" (3次)

- ⚠️  空洞形容词: 8处
  - "非常好" (3次)
  - "极其重要" (2次)

**建议**:
- 用"说实话"替代"综上所述"
- 用"所以"替代"因此"
- 删除空洞的"非常""极其"

---

### 2. 结构层面: 20/30 ⚠️
- ⚠️  段落长度方差: 12.3 (较小,偏机械)
  - 第1段: 152字
  - 第2段: 148字
  - 第3段: 151字
  - 第4段: 149字
  (太整齐了,不像真人写的)

- ❌ 检测到公式化开头:
  "本文将介绍..." (典型AI模板)

**建议**:
- 让段落长度有起伏 (100-200字之间波动)
- 改写开头,用故事或提问开场

---

### 3. 情感层面: 10/20 ⚠️
- ⚠️  第一人称: 仅出现2次 ("笔者认为...")
- ❌ 情感词汇: 0次
- ❌ 真实细节: 缺失

**建议**:
- 增加真实案例 ("有一次我...")
- 加入情感表达 ("真的很惊讶")
- 补充具体细节 (时间/地点/数字)

---

### 4. 口语化层面: 20/20 ✅
- ✅ 语气词: 6次 (呢3次, 吧2次, 嘛1次)
- ✅ 反问句: 3处
- ✅ 口语化表达良好

**优点**: 这部分做得不错,保持!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

## 🎯 优化建议 (优先级排序)

### P0 (必须修改)
1. **删除"综上所述"等AI高频词** (行215, 行487)
   → 改为: "说实话" "我的结论是"

2. **改写公式化开头** (行1)
   旧: "本文将介绍Claude Code和Cursor的对比..."
   新: "用了三个月AI编程工具,我发现一个有意思的现象..."

3. **增加真实细节** (引言部分)
   建议加入: 具体的使用场景、时间、测试数据

---

### P1 (建议修改)
1. **打破段落的整齐度**
   - 第2段可以缩短到100字
   - 第4段可以扩展到180字

2. **增加情感表达**
   - 在测试结果部分加入惊讶/失望的情绪
   - 例如: "这个结果真的出乎我意料"

---

### P2 (可选优化)
1. 增加更多反问句
2. 适当使用省略号制造停顿感

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

## 📈 预期优化效果

如果按P0+P1建议修改:
- 预计评分: 65 → 85
- AI味等级: ⭐⭐⭐ → ⭐⭐
- 预估AI检测率: 40% → 25%

建议在修改后重新运行 /ai-check 验证效果。
```

---

## 技术实现

### AI Prompt设计

```markdown
你是一个专业的"AI味"检测专家。请分析以下文章,识别AI生成内容的特征。

**检测维度**:
1. 词汇层面 (30分)
   - 统计高频AI词汇: "综上所述", "因此", "然而"等
   - 统计空洞形容词: "非常", "极其", "十分"等
   - 计算连接词密度

2. 结构层面 (30分)
   - 计算段落长度方差(越小越机械)
   - 检测公式化模板
   - 检测过度列表化

3. 情感层面 (20分)
   - 统计第一人称出现次数
   - 检测情感词汇
   - 检测真实细节(时间/地点/数字)

4. 口语化层面 (20分)
   - 统计语气词(啊/呢/吧/嘛)
   - 统计反问句
   - 检测口语化表达

**输出要求**:
- 总体评分 (0-100)
- 分维度评分和具体问题
- 优化建议 (P0/P1/P2)
- 预期优化效果

**文章内容**:
[文章文本]
```

---

## 配置选项

### 严格模式

```json
{
  "strict": true,
  "thresholds": {
    "aiWords": 2,        // 每100字最多2个AI词汇
    "variance": 20,      // 段落长度方差至少20
    "emotion": 3,        // 至少3处情感表达
    "colloquial": 5      // 至少5个语气词
  }
}
```

### 宽松模式

```json
{
  "strict": false,
  "thresholds": {
    "aiWords": 5,
    "variance": 10,
    "emotion": 1,
    "colloquial": 2
  }
}
```

---

## 使用建议

1. **初稿完成后立即检测** - 及早发现问题
2. **审校后再次检测** - 验证优化效果
3. **对比前后评分** - 量化改进效果
4. **不要过度优化** - 评分85+即可,过度优化反而不自然

---

## 局限性

1. **主观性**: AI味评判有一定主观性
2. **上下文敏感**: 技术文章自然AI味较高
3. **非绝对标准**: 评分仅供参考,最终以读者感受为准

---

## 与audit命令的集成

`/audit style` 会自动调用此插件,并将结果整合到审校报告中。
