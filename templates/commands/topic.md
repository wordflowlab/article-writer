---
description: 讨论选题方向并等待用户选择
argument-hint: [项目编号或brief文件路径]
allowed-tools: Read(//*), Write(//_briefs/**), Write(//workspaces/**/specification.md)
scripts:
  sh: .specify/scripts/bash/topic.sh
---

# 选题讨论

## 核心原则

**⚠️ 重要**:
- AI **只提供选题建议**,不做最终决策
- **必须等待用户选择**后才能继续
- 提供 3-4 个差异化的方向
- 每个方向要有明确的优劣分析

---

## 功能说明

基于 brief 和调研结果,为用户提供多个选题方向选项,分析每个方向的优劣,**等待用户选择**后,生成正式的 specification.md 文档。

---

## 输入方式

### 方式1: 指定项目编号
```
/topic 001
```

### 方式2: 指定brief路径
```
/topic _briefs/001-claude-code-评测-brief.md
```

### 方式3: 自动推断
```
/topic
```

---

## 处理流程

### 1️⃣ 读取上下文

**读取内容:**
1. Brief文件 (`_briefs/项目编号-brief.md`)
2. 调研报告 (`_knowledge_base/项目编号-调研报告-*.md`)
3. 参考资料 (`_knowledge_base/项目编号-参考资料-*.md`)

**提取关键信息:**
- 内容需求(P0/P1/P2)
- 目标读者
- 发布平台
- 字数要求
- 内容定位(评测/教程/观点等)
- 调研发现的关键点

**示例输出:**
```
📋 项目概览:
- 项目: 001-claude-code-评测
- 主题: Claude Code vs Cursor
- 读者: 程序员
- 平台: 公众号 + 知乎
- 字数: 3000字
- 定位: 评测对比

🔍 调研关键发现:
1. Claude Code 主打"符合开发者工作流"
2. Cursor 更注重"快速补全"
3. 用户关注点: 价格、速度、准确度
4. 争议点: 哪个更适合新手 vs 老手
```

---

### 2️⃣ 生成选题方向

**生成规则:**
- **数量**: 3-4个方向
- **差异化**: 每个方向的切入角度、结构、论述重点应显著不同
- **可行性**: 基于现有调研数据和brief要求,都可以执行

**方向模板:**

#### 方向 A: [简短标题]
**核心切入点**: [一句话概括]
**工作量评估**: ⭐⭐⭐⭐ (1-5星,星级越高工作量越大)

**需要真实测试**: 是/否
- [如果需要,列出具体测试任务]

**文章结构**(3000字):
1. 引言(300字): [描述]
2. 对比维度1(800字): [描述]
3. 对比维度2(800字): [描述]
4. 对比维度3(800字): [描述]
5. 结论与建议(300字): [描述]

**优势**:
- ✅ [优势1]
- ✅ [优势2]
- ✅ [优势3]

**劣势**:
- ⚠️ [劣势1]
- ⚠️ [劣势2]

**适用场景**:
[什么情况下选这个方向最合适]

**数据支持度**: [高/中/低]
**写作难度**: [低/中/高]
**预计耗时**: [X小时-X天]

---

### 示例:Claude Code vs Cursor 评测

#### 方向 A: 真实场景测试对比
**核心切入点**: 用5个真实开发场景测试两款工具,用数据说话
**工作量评估**: ⭐⭐⭐⭐ (需要大量实际测试)

**需要真实测试**: 是
- 至少 3 个实际项目测试
- 每个场景测试时间 ≥ 2小时
- 记录性能数据、错误率、响应时间等

**文章结构**(3000字):
1. 引言(300字): 为什么选这5个场景(代表性)
2. 场景1:重构遗留代码(600字): 测试过程+对比结果
3. 场景2:新功能开发(600字): 测试过程+对比结果
4. 场景3:Bug修复(600字): 测试过程+对比结果
5. 场景4:代码审查(600字): 测试过程+对比结果
6. 场景5:文档生成(300字): 测试过程+对比结果
7. 综合对比与建议(300字): 总结+选择指南

**优势**:
- ✅ 数据真实可信,读者容易信服
- ✅ 实用性强,读者可以直接参考场景
- ✅ 差异化明显,市面上少见深度测试

**劣势**:
- ⚠️ 需要真实测试,耗时较长(2-3天)
- ⚠️ 测试结果可能因个人习惯而异,需要声明

**适用场景**:
- 读者希望看到真实数据
- 你有时间进行实际测试
- 目标是建立专业可信形象

**数据支持度**: 高(需要自己测试)
**写作难度**: 中(测试+写作)
**预计耗时**: 2-3天(含测试)

---

#### 方向 B: 用户画像分层推荐
**核心切入点**: 不说哪个更好,而是分析"什么人适合什么工具"
**工作量评估**: ⭐⭐⭐ (中等,更多依赖调研和推理)

**需要真实测试**: 否
- 主要基于调研数据和用户画像分析
- 可选:少量验证性测试

**文章结构**(3000字):
1. 引言(200字): 工具没有绝对好坏,关键看适配
2. 工具基础对比(400字): 快速概览功能差异
3. 用户画像1:新手开发者(600字): 需求分析+推荐+理由
4. 用户画像2:熟练开发者(600字): 需求分析+推荐+理由
5. 用户画像3:团队协作场景(600字): 需求分析+推荐+理由
6. 用户画像4:独立开发者(600字): 需求分析+推荐+理由
7. 选择决策树(200字): 可视化选择指南
8. 结语(200字): 工具选择建议

**优势**:
- ✅ 实用性极强,每个读者都能找到自己的定位
- ✅ 避免争议,不站队,更容易传播
- ✅ 结构清晰,易读易懂

**劣势**:
- ⚠️ 需要对用户群体有深入理解
- ⚠️ 可能被认为"和稀泥",不够鲜明

**适用场景**:
- 读者群体多样化
- 你希望文章传播范围更广
- 不想陷入"站队"争议

**数据支持度**: 中(基于调研+推理)
**写作难度**: 中
**预计耗时**: 1-2天

---

#### 方向 C: 争议点深度剖析
**核心切入点**: 聚焦最有争议的3个问题,深度分析
**工作量评估**: ⭐⭐⭐⭐⭐ (需要深度调研和数据支撑)

**需要真实测试**: 部分需要
- 争议点验证性测试
- 性能数据收集
- 用户评价整理

**文章结构**(3000字):
1. 引言(300字): 市面上的争议点梳理
2. 争议1:"Claude更智能 vs Cursor更快"(900字)
   - 争论观点整理
   - 实测数据对比
   - 深层原因分析(架构/模型差异)
   - 结论
3. 争议2:"价格是否合理"(900字)
   - 定价策略对比
   - 性价比计算
   - 用户接受度分析
   - 结论
4. 争议3:"生态与未来"(700字)
   - 插件/集成对比
   - 更新频率
   - 社区活跃度
   - 未来趋势预测
5. 总结(200字): 理性看待争议

**优势**:
- ✅ 话题性强,容易引发讨论和传播
- ✅ 深度够,显示专业性
- ✅ 满足读者"想看结论"的心理

**劣势**:
- ⚠️ 容易引发争议,可能被某方用户批评
- ⚠️ 需要非常客观,否则容易失去公信力

**适用场景**:
- 你有明确的观点和数据支撑
- 读者喜欢深度分析
- 追求高讨论度和传播

**数据支持度**: 高(基于调研)
**写作难度**: 高
**预计耗时**: 3-4天(含深度调研)

---

#### 方向 D: 新手友好型入门指南
**核心切入点**: 从0到1教新手选择和使用,顺便对比
**工作量评估**: ⭐⭐ (较轻松,更偏向教程)

**需要真实测试**: 否
- 主要基于操作演示
- 需要截图/操作步骤

**文章结构**(3000字):
1. 引言(200字): AI编程助手的价值
2. 基础认知(400字): Claude Code和Cursor分别是什么
3. 如何选择(600字):
   - 决策因素(预算/场景/偏好)
   - 选择流程图
4. Claude Code上手(800字):
   - 安装配置
   - 核心功能演示
   - 最佳实践
5. Cursor上手(800字):
   - 安装配置
   - 核心功能演示
   - 最佳实践
6. 常见问题(200字): FAQ

**优势**:
- ✅ 受众面广,新手友好
- ✅ 实用性强,可以作为工具书
- ✅ SEO友好,容易被搜索到

**劣势**:
- ⚠️ 深度不足,老手可能觉得浅显
- ⚠️ 需要详细的操作截图/步骤

**适用场景**:
- 目标读者以新手为主
- 追求长尾流量
- 建立"入门教程"系列

**数据支持度**: 中(基于实操)
**写作难度**: 低
**预计耗时**: 1天

---

### 3️⃣ 展示选项并等待选择

**AI输出格式:**
```
🎯 基于您的brief和调研结果,我整理了 4 个选题方向:

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 方向 A: 真实场景测试对比
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
核心切入点: 用5个真实开发场景测试两款工具,用数据说话

✅ 优势: 数据真实可信 | 实用性强 | 差异化明显
⚠️  劣势: 需要真实测试(耗时) | 结果可能因人而异

📝 字数分配: 引言300 + 5个场景测试2700 + 总结300
🎯 适合: 追求深度和可信度,有时间测试
💪 难度: 中 | 数据支持度: 高

[详细结构见上方]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
👥 方向 B: 用户画像分层推荐
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
核心切入点: 不说哪个更好,分析"什么人适合什么工具"

✅ 优势: 实用性极强 | 避免争议 | 易读易懂
⚠️  劣势: 可能被认为不够鲜明

📝 字数分配: 引言200 + 工具对比400 + 4类用户2400
🎯 适合: 追求传播广度,避免站队
💪 难度: 中 | 数据支持度: 中

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔥 方向 C: 争议点深度剖析
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
核心切入点: 聚焦3个最有争议的问题,深度分析

✅ 优势: 话题性强 | 深度够 | 满足"求结论"心理
⚠️  劣势: 容易引发争议 | 需要极度客观

📝 字数分配: 引言300 + 3个争议2500 + 总结200
🎯 适合: 追求高讨论度和传播,有明确观点
💪 难度: 高 | 数据支持度: 高

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📖 方向 D: 新手友好型入门指南
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
核心切入点: 从0到1教新手选择和使用

✅ 优势: 受众面广 | 实用性强 | SEO友好
⚠️  劣势: 深度不足 | 需要详细截图

📝 字数分配: 认知600 + 选择600 + 上手指南1600 + FAQ200
🎯 适合: 目标读者以新手为主,追求长尾流量
💪 难度: 低 | 数据支持度: 中

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❓ 请选择您偏好的方向:
- 输入 A / B / C / D 选择对应方向
- 输入 "组合" 如果想融合多个方向
- 输入 "其他" 如果以上都不满意,告诉我您的想法

💡 我的建议: [基于brief和调研的具体建议]
```

**⚠️ ⚠️ ⚠️ 关键 - 强制等待机制 ⚠️ ⚠️ ⚠️**:

AI **必须停在这里,等待用户回复**,绝对不能自作主张选择!

**禁止的行为**:
- ❌ **禁止**: "我觉得方向 A 最适合,已经开始生成 specification 了..."
- ❌ **禁止**: "基于您的需求,我选择方向B,现在开始写作..."
- ❌ **禁止**: 假设用户会选择某个方向,直接进入下一步

**正确的行为**:
- ✅ **正确**: 提供完整的4个方向分析
- ✅ **正确**: 明确说明"请您选择后,我再继续"
- ✅ **正确**: 如果用户说"你帮我选",给建议但仍需用户确认

**验证方法**:
输出选题后,**不再输出任何后续步骤**,完全停止,等待用户输入。

---

### 4️⃣ 用户选择后处理

**场景1: 用户选择单一方向**
```
用户: A
```

**AI操作:**
1. 确认选择
2. 生成详细的 specification.md
3. 保存到对应工作区

**场景2: 用户想组合方向**
```
用户: 我想融合A和B,用真实测试但不要太多技术细节,更侧重推荐
```

**AI操作:**
1. 根据用户需求调整方向
2. 生成新的混合方案让用户确认
3. 确认后生成specification.md

**场景3: 用户不满意**
```
用户: 都不太满意,我想聚焦在价格对比上
```

**AI操作:**
1. 询问更多细节
2. 生成新的方向E
3. 让用户确认后生成specification.md

---

### 5️⃣ 生成 Specification

**文件路径:**
```
workspaces/wechat/articles/001-claude-code-评测/specification.md
```

**Specification 格式:**
```markdown
# 写作规格 - [项目名]

**项目编号**: 001
**创建时间**: 2025-01-15
**选题方向**: [方向A/B/C/D或自定义]
**字数目标**: 3000字

---

## 1. 选题定位

### 核心切入点
[一句话概括]

### 目标读者
- **主要读者**: [描述]
- **次要读者**: [描述]
- **读者痛点**: [用户关心的问题]

### 内容定位
- [x] 评测对比
- [ ] 教程指南
- [ ] 观点分析

### 差异化优势
[与市面上现有文章的差异]

---

## 2. 文章结构

### 标题(待定)
**备选标题**:
1. [标题选项1]
2. [标题选项2]
3. [标题选项3]

### 结构大纲

#### 第1部分: [章节名] (XXX字)
**目标**: [这部分要达成什么目标]

**内容要点**:
- 要点1
- 要点2

**数据/案例需求**:
- [需要什么数据支撑]

---

#### 第2部分: [章节名] (XXX字)
[同上]

---

[重复至所有章节]

---

## 3. 数据与素材清单

### 必须包含(P0)
- [ ] [数据1] - 来源: [调研报告/待测试]
- [ ] [案例1] - 来源: [...]

### 建议包含(P1)
- [ ] [数据2]
- [ ] [案例2]

### 可选内容(P2)
- [ ] [...]

---

## 4. 风格要求

### 语言风格
- **基调**: [专业/轻松/中立等]
- **语气**: [客观/主观/建议等]
- **专业度**: [技术深度要求]

### 结构要求
- **开头**: [如何吸引读者]
- **中间**: [如何组织论证]
- **结尾**: [如何收尾]

### 特殊要求
- [如:必须有数据图表 / 必须包含真实案例等]

---

## 5. 质量标准

### AI检测率
- **目标**: < 30%(MVP) / < 20%(正式版)
- **策略**: 真实素材 + 三遍审校

### 事实准确性
- 所有数据必须有来源
- 用户评价必须真实可查
- 技术描述必须准确

### 可读性
- 段落长度控制在150字以内
- 每500字至少1个小标题
- 适当使用列表和表格

---

## 6. 内容红线

### 禁止内容
- ❌ 贬低竞品(客观对比,不恶意攻击)
- ❌ 虚假数据
- ❌ 营销软文(保持中立)

### 注意事项
- ⚠️ 标注信息时效性(如"截至2025年1月")
- ⚠️ 声明测试环境和个人偏好影响
- ⚠️ 价格信息可能变化

---

## 7. 下一步行动

- [ ] collect - 搜索个人素材库
- [ ] write - 开始撰写初稿

---

## 附录: Brief参考

**原始Brief**: `_briefs/001-claude-code-评测-brief.md`
**调研报告**: `_knowledge_base/001-调研报告-2025-01-15.md`
```

---

## 6️⃣ 输出总结并等待用户选择

**AI向用户展示:**
```
✅ 选题讨论完成！

📝 您选择的方向: [方向A: 真实场景测试对比]

📄 已生成文档:
- Specification: workspaces/wechat/articles/001-claude-code-评测/specification.md
- 字数规划: 3000字 (引言300 + 测试2700 + 总结300)
- 结构: 7个部分

⚠️ 特别提醒:
- 方向A需要真实测试,请预留时间
- 建议先完成测试,再进行写作

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
💡 下一步操作
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

a) /collect - 搜索个人素材库
   适合: 您有个人笔记、即刻/微博内容等相关素材
   说明: 我会在素材库中搜索与主题相关的真实经历和观点
   预计: 3-5分钟

b) /write - 直接开始撰写初稿
   适合: 没有素材库,或主要依赖调研数据写作
   说明: 我会基于 brief、调研报告和 specification 撰写初稿
   预计: 10-20分钟(视字数而定)

c) 查看 specification 详情
   适合: 想确认结构和要求后再继续
   说明: 我会展示完整的 specification 内容供您确认

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⭐ 推荐:
- 如果有个人素材库: 选择 a) → 再执行 /write
- 如果无素材库: 直接选择 b) /write

⚠️ 请输入 a/b/c 或直接输入命令,我将继续后续流程
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
AI **必须停在这里,等待用户输入选择**,不要假设用户意图自动执行

---

## 注意事项

### 1. **绝对不能自作主张**
- ❌ **错误**: AI直接选择"我觉得方向A最好,已经生成specification了"
- ✅ **正确**: AI提供选项,明确等待用户输入

### 2. 方向差异化
- 每个方向的切入角度、结构、论述重点都应显著不同
- 避免"换汤不换药"的伪选项

### 3. 优劣分析要真实
- 不要只说优点,必须指出每个方向的局限性
- 帮助用户做出理性决策

### 4. 数据支撑
- 基于调研报告生成方向
- 如果调研不足,应在方向中标注"需要补充调研"

---

## 常见问题

### Q1: 如果用户说"你帮我选"怎么办?
**A**:
```
我可以给您建议,但最终决策还是需要您来做,因为:
1. 您更了解目标读者的偏好
2. 您知道自己愿意投入的时间
3. 这是您的创作,您的选择最重要

如果您需要建议,基于您的brief,我推荐:
[具体建议 + 理由]

您觉得怎么样?
```

### Q2: 用户一直不满意怎么办?
**A**:
- 最多提供3轮方向(初始4个 + 2轮调整)
- 如果还不满意,建议用户:
  - 直接描述理想的结构
  - AI基于描述生成specification

### Q3: 如果调研数据不足以支撑任何方向?
**A**:
- 在方向分析中标注"数据支持度:低"
- 建议用户:
  1. 补充调研 (`/research` 再执行一次)
  2. 或选择低数据依赖的方向(如个人观点类)

---

## 输出示例

见上文 "3️⃣ 展示选项并等待选择" 部分。
