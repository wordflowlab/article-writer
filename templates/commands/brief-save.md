---
description: 理解写作需求并保存brief
argument-hint: [需求描述或brief文件路径]
allowed-tools: Write(//_briefs/**), Read(//*)
scripts:
  sh: .specify/scripts/bash/init-brief.sh
---

# 理解需求并保存Brief

## 输入方式

### 方式1: 用户直接描述需求

用户提供文字描述,例如:
> "写一篇关于Claude Code的文章,3000字左右,对比Cursor,目标读者是程序员"

**AI处理流程:**

1. **提取关键信息**:
   - 主题: Claude Code
   - 字数: 3000
   - 对比对象: Cursor
   - 目标读者: 程序员

2. **判断工作区类型**:
   根据提取的信息判断工作区:
   - 公众号/微信 → `wechat`工作区
   - 视频/YouTube/B站/抖音 → `video`工作区
   - 博客/知乎/Medium → `general`工作区

3. **补充关键信息**(通过提问,根据工作区差异化):

   **如果是wechat工作区:**
   - 封面图要求? (900x500px)
   - 文章定位? (干货/经验/观点/评测)
   - 是否需要配图? (建议2-3张)
   - 引导互动方式? (点赞/评论话题)
   - 截稿时间?

   **如果是video工作区:**
   - 视频时长? (用于计算字数: 1分钟≈150-180字)
   - 拍摄方式? (单人出镜/多人/纯字幕)
   - 是否需要分镜? (复杂剧情需要)
   - Hook策略? (前3秒如何抓人)
   - 截稿时间?

   **如果是general工作区:**
   - 具体发布平台? (知乎/个人博客/Medium)
   - 内容定位? (技术教程/经验总结/观点)
   - 是否需要SEO优化?
   - 是否需要配图?
   - 截稿时间?

4. **选择Brief模板**:
   - wechat → 使用 `templates/brief-templates/wechat-brief-template.md`
   - video → 使用 `templates/brief-templates/video-brief-template.md`
   - general → 使用 `templates/brief-templates/general-brief-template.md`

5. **生成brief草稿**,让用户确认

### 方式2: 用户上传brief文件

用户提供Word/PDF/Markdown文件:
> "这是客户给的brief: /path/to/brief.docx"

**AI处理流程:**
1. 读取文件内容
2. 解析结构化信息
3. 补充缺失字段
4. 生成标准格式brief

---

## Brief标准格式

保存到: `_briefs/项目名-brief.md`

```markdown
# 写作Brief - [项目名]

## 元信息
- **项目编号**: 001
- **创建时间**: 2025-01-15
- **截稿时间**: 2025-01-20
- **项目类型**: 商单/个人创作

## 内容需求

### 主题
[文章主题]

### 目标读者
- **主要读者**: [描述]
- **次要读者**: [描述]
- **读者痛点**: [痛点]

### 内容定位
- [x] 评测/对比
- [ ] 教程/指南
- [ ] 观点/分析
- [ ] 案例研究

### 字数要求
- **目标字数**: [字数]
- **可接受范围**: [范围]

### 发布平台
- **主平台**: [平台]
- **分发平台**: [平台]

## 内容要求

### 必须包含(P0)
- [ ] [要点1]
- [ ] [要点2]

### 建议包含(P1)
- [ ] [要点1]

### 可选内容(P2)
- [ ] [要点1]

## 风格要求

### 语言风格
- **基调**: [描述]
- **语气**: [描述]
- **专业度**: [描述]

### 结构要求
- **开头**: [要求]
- **中间**: [要求]
- **结尾**: [要求]

## 数据要求

### 需要真实测试
- [ ] 是
- [x] 否

**测试内容:**
[描述]

### 需要信息调研
- [x] 是

**调研内容:**
[描述]

## 配图要求

- **配图数量**: [数量]
- **配图类型**: [类型]
- **配图风格**: [风格]

## 质量要求

### AI检测
- **目标AI浓度**: < 30%
- **审校轮次**: 至少2轮

## 内容红线

### 禁止内容
- ❌ [禁止项]

### 注意事项
- ⚠️ [注意项]

## 备注

[其他备注]
```

---

## 执行后操作

1. **保存brief文件**
   - 路径: `_briefs/项目编号-项目名-brief.md`
   - 自动生成项目编号(递增,从001开始)

2. **创建项目目录结构** (根据工作区类型)

   **wechat工作区:**
   ```
   workspaces/wechat/articles/001-项目名/
   ├── specification.md  (待生成)
   ├── materials-found.md (待生成)
   ├── draft.md          (待生成)
   ├── audit-log.md      (待生成)
   ├── images-plan.md    (待生成)
   ├── publish/          (待创建)
   └── images/           (待创建)
   ```

   **video工作区:**
   ```
   workspaces/video/scripts/001-项目名/
   ├── specification.md  (待生成)
   ├── script-draft.md   (待生成)
   ├── storyboard/       (待创建,如需分镜)
   ├── audit-log.md      (待生成)
   └── publish/          (待创建)
   ```

   **general工作区:**
   ```
   workspaces/general/posts/001-项目名/
   ├── specification.md  (待生成)
   ├── draft.md          (待生成)
   ├── audit-log.md      (待生成)
   └── publish/          (待创建)
   ```

3. **提示用户下一步**
   ```
   ✅ Brief已保存: _briefs/001-项目名-brief.md

   📋 项目概览:
   - 主题: [主题]
   - 字数: [字数]
   - 截稿: [时间]
   - 需要测试: [是/否]
   - 需要调研: [是/否]

   💡 下一步:
   1. /research - 开始信息调研
   2. /topic-discuss - 讨论选题方向

   或者输入 "continue" 自动执行后续流程
   ```

---

## 注意事项

1. **Brief必须明确** - 如果用户提供的信息不足,必须通过提问补充
2. **不要自作主张** - 所有未明确的信息都要询问,不要假设
3. **标准格式** - 必须按照上述格式保存,便于后续命令读取
4. **编号管理** - 项目编号自动递增,从001开始

---

## 常见问题

### Q: 用户只给了一个主题怎么办?
A: 必须通过提问补充关键信息:
- 字数要求
- 目标读者
- 发布平台
- 截稿时间

### Q: Brief中可以有哪些灵活性?
A: 以下字段可以灵活调整:
- 内容定位可以多选
- 字数可以是范围
- 配图数量可以是建议值
但以下字段必须明确:
- 主题
- 目标读者
- 发布平台

### Q: 如何处理商单brief?
A: 如果是商单,需要额外记录:
- 客户要求(明确标注)
- 付费金额(如有)
- 特殊限制(如不能贬低竞品)
